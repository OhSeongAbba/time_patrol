<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIME PATROL HQ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Rajdhani:wght@500;700&family=Black+Ops+One&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; overflow: hidden; background: #020617; }
        .font-tech { font-family: 'Rajdhani', sans-serif; }
        .font-stamp { font-family: 'Black Ops One', cursive; }
        
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0f172a; }
        ::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #475569; }

        .glass-panel {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(148, 163, 184, 0.1);
        }

        .shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .active-tab {
            background: #06b6d4 !important;
            color: #0f172a !important;
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.4);
            border-color: #22d3ee !important;
        }

        .scanline {
            width: 100%; height: 100px; z-index: 10;
            background: linear-gradient(0deg, rgba(0,0,0,0) 0%, rgba(6, 182, 212, 0.1) 50%, rgba(0,0,0,0) 100%);
            opacity: 0.1; position: absolute; bottom: 100%;
            animation: scanline 8s linear infinite; pointer-events: none;
        }
        @keyframes scanline { 0% { bottom: 100%; } 100% { bottom: -100px; } }
        
        .fade-out { animation: fadeOut 0.8s forwards; animation-delay: 1s; }
        @keyframes fadeOut { from { opacity: 1; transform: scale(1); } to { opacity: 0; transform: scale(1.05); pointer-events: none; } }

        .stamp-animate { animation: stampIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        @keyframes stampIn { 0% { opacity: 0; transform: translate(-50%, -50%) scale(3) rotate(-15deg); } 100% { opacity: 1; transform: translate(-50%, -50%) scale(1) rotate(-15deg); } }
    </style>
</head>
<body class="text-slate-100 h-screen flex flex-col selection:bg-cyan-500/30 uppercase">

    <!-- Intro / Login Screen -->
    <div id="intro-screen" class="fixed inset-0 z-[100] bg-slate-950 flex flex-col items-center justify-center p-6 text-center overflow-hidden">
        <div class="scanline"></div>
        <div id="access-stamp" class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 opacity-0 pointer-events-none border-4 border-red-500 p-4 rounded-lg bg-red-900/80 backdrop-blur-sm shadow-[0_0_40px_rgba(239,68,68,0.5)] rotate-[-15deg]">
            <div class="border-2 border-red-500 px-8 py-3">
                <h2 class="text-5xl md:text-7xl font-stamp text-red-500 tracking-widest uppercase">ACCESS<br>GRANTED</h2>
            </div>
        </div>
        <div class="relative z-20 max-w-md w-full space-y-10 transition-all duration-700" id="intro-content">
            <div class="space-y-4 text-center">
                <div class="w-20 h-20 rounded-3xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center shadow-[0_0_40px_rgba(6,182,212,0.4)] mx-auto ring-4 ring-slate-900 text-white">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 2v20M2 12h20M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10z"/><circle cx="12" cy="12" r="4"/></svg>
                </div>
                <h1 class="text-5xl font-bold tracking-tighter font-tech text-white uppercase">Time Patrol</h1>
                <p class="text-cyan-500 font-tech tracking-[0.4em] text-xs mt-1 uppercase">Headquarters Terminal</p>
            </div>
            <div class="glass-panel p-8 rounded-3xl shadow-2xl space-y-6 border border-slate-700/50">
                <div class="space-y-5">
                    <div class="text-left space-y-1.5">
                        <label class="text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1">Agent Identification</label>
                        <input type="text" id="intro-name-input" class="w-full bg-slate-900 border border-slate-700 rounded-xl px-5 py-4 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 font-medium transition-all" placeholder="ìš”ì›ëª…ì„ ìž…ë ¥í•˜ì„¸ìš”" autocomplete="off" maxlength="12">
                    </div>
                    <div class="text-left space-y-1.5">
                        <label class="text-[10px] font-bold text-slate-500 uppercase tracking-widest ml-1 flex justify-between">
                            <span>Restore Progress</span>
                            <span class="text-slate-700 uppercase tracking-tighter">Optional Code</span>
                        </label>
                        <input type="text" id="intro-code-input" class="w-full bg-slate-900 border border-slate-700 rounded-xl px-5 py-4 text-emerald-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 font-mono uppercase tracking-widest transition-all" placeholder="----">
                    </div>
                    <button id="btn-start-game" class="w-full bg-cyan-600 hover:bg-cyan-500 text-white font-bold py-4 rounded-xl transition-all shadow-lg active:scale-[0.98] uppercase tracking-widest">Connect to System</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="h-16 border-b border-slate-800 bg-slate-900/80 flex items-center px-6 justify-between shrink-0 sticky top-0 z-40 backdrop-blur-xl">
        <div class="flex items-center gap-3 text-white">
            <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center shadow-lg">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 2v20M2 12h20M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10 10 10 0 0 1-10-10 10 10 0 0 1 10-10z"/><circle cx="12" cy="12" r="4"/></svg>
            </div>
            <h1 class="text-xl font-bold font-tech uppercase tracking-tight">Time Patrol HQ</h1>
        </div>
        <button id="btn-open-save" class="text-xs font-bold bg-slate-800 hover:bg-slate-700 text-cyan-400 px-4 py-2 rounded-lg border border-slate-700 transition-all uppercase">Save State</button>
    </header>

    <!-- Main Workspace -->
    <div class="flex-1 flex flex-col lg:flex-row h-full overflow-hidden max-w-[1600px] mx-auto w-full p-4 md:p-6 gap-6">
        
        <!-- Sidebar -->
        <aside class="w-full lg:w-[380px] flex flex-col gap-6 shrink-0 lg:h-full overflow-y-auto pr-1">
            <section class="glass-panel rounded-3xl p-7 relative border border-slate-800 shadow-xl overflow-hidden shrink-0">
                <div class="absolute top-0 left-0 w-1.5 h-full bg-cyan-500 shadow-[0_0_15px_rgba(6,182,212,0.5)]"></div>
                <h2 class="text-xs font-bold text-cyan-400 mb-8 font-tech tracking-[0.2em] uppercase">Operational Status</h2>
                <div class="space-y-6">
                    <div class="flex justify-between items-end border-b border-slate-800/80 pb-3">
                        <span class="text-slate-500 text-xs font-bold uppercase">Codename</span>
                        <span id="agent-name" class="text-2xl font-bold text-white tracking-tight normal-case">---</span>
                    </div>
                    <div class="flex justify-between items-center border-b border-slate-800/80 pb-3">
                        <span class="text-slate-500 text-xs font-bold uppercase">Rank</span>
                        <div class="flex items-center gap-2">
                            <div id="rank-indicator" class="w-3.5 h-3.5 rounded-full bg-slate-400 shadow-lg"></div>
                            <span id="rank-text" class="text-slate-100 font-bold uppercase">---</span>
                        </div>
                    </div>
                    <div class="space-y-2 uppercase">
                        <div class="flex justify-between text-[10px] font-bold text-slate-500">
                            <span>EXP Progress</span>
                            <span class="text-cyan-400 font-tech text-sm"><span id="current-xp">0</span> XP</span>
                        </div>
                        <div class="h-1.5 bg-slate-900 rounded-full overflow-hidden">
                            <div id="xp-bar" class="h-full bg-gradient-to-r from-purple-600 to-blue-500 w-0 transition-all duration-1000"></div>
                        </div>
                    </div>
                    <div class="bg-slate-900/40 rounded-2xl p-5 border border-slate-800/50 space-y-4 uppercase">
                        <div class="flex justify-between items-center">
                            <span class="text-xs font-bold text-slate-400 flex items-center gap-2 tracking-tighter">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="text-yellow-400"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg> Chrono Cell
                            </span>
                            <span id="energy-text" class="font-tech text-cyan-400 text-xl font-bold">100%</span>
                        </div>
                        <div class="h-3 bg-slate-950 rounded-full overflow-hidden border border-slate-800">
                            <div id="energy-bar" class="h-full bg-cyan-500 transition-all duration-500" style="width: 100%;"></div>
                        </div>
                        <button id="btn-recharge" class="w-full py-2.5 bg-slate-800 hover:bg-emerald-600 hover:text-white text-emerald-400 border border-emerald-500/20 rounded-xl font-bold text-xs transition-all uppercase tracking-widest">RECHARGE</button>
                    </div>
                </div>
            </section>
            <section class="glass-panel rounded-3xl p-7 border border-slate-800 flex-1 shadow-lg overflow-y-auto min-h-[200px]">
                 <h3 class="text-[10px] font-bold text-slate-600 mb-5 font-tech tracking-[0.3em] uppercase pb-3 border-b border-slate-800">Promotion Protocol</h3>
                 <ul class="space-y-3" id="rank-list"></ul>
            </section>
        </aside>

        <!-- Main Workspace -->
        <main class="flex-1 flex flex-col h-full overflow-hidden">
            <div class="bg-slate-900/50 p-3 rounded-[2.5rem] border border-slate-800 mb-6 shadow-xl shrink-0">
                <div class="grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-7 gap-2 w-full" id="episode-tabs"></div>
            </div>
            <div class="flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-6 pb-24" id="mission-list"></div>
        </main>
    </div>

    <!-- Modals -->
    <div id="quiz-modal" class="fixed inset-0 bg-black/95 backdrop-blur-lg z-50 hidden flex items-center justify-center p-4">
        <div class="bg-slate-900 w-full max-w-2xl rounded-[3rem] shadow-2xl border border-amber-500/30 p-8 flex flex-col max-h-[90vh]">
            <div class="relative z-10 flex items-center gap-4 border-b border-slate-800 pb-4 shrink-0 text-amber-400">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/></svg>
                <h2 class="text-xl font-bold uppercase tracking-widest font-tech">Mission Briefing</h2>
            </div>
            <div id="quiz-dynamic-content" class="relative z-10 flex-1 overflow-y-auto py-6 flex flex-col text-slate-100 normal-case"></div>
        </div>
    </div>

    <div id="math-modal" class="fixed inset-0 bg-slate-950/90 backdrop-blur-md z-50 hidden flex items-center justify-center p-4 text-center">
        <div class="bg-slate-900 w-full max-w-md rounded-[2.5rem] shadow-2xl border border-emerald-500/20 p-10">
            <h2 class="text-2xl font-bold text-emerald-400 font-tech uppercase tracking-widest mb-6">Security Link</h2>
            <div class="bg-black/40 rounded-lg p-6 border border-emerald-500/20 mb-6"><div id="math-question" class="text-4xl font-mono font-bold text-emerald-300"></div></div>
            <div class="space-y-4">
                <input type="number" id="math-answer" class="w-full bg-slate-950/80 border border-slate-700 rounded-2xl px-6 py-5 text-white text-center text-xl font-mono uppercase" placeholder="CODE">
                <div class="grid grid-cols-2 gap-3"><button id="btn-cancel" class="py-3 border border-slate-700 rounded-lg uppercase text-xs font-bold text-slate-500">Abort</button><button id="btn-submit-answer" class="bg-emerald-600 py-3 rounded-lg text-xs font-bold text-white uppercase">Verify</button></div>
            </div>
        </div>
    </div>

    <div id="save-modal" class="fixed inset-0 bg-black/90 backdrop-blur-md z-[60] hidden flex items-center justify-center p-4 text-center">
        <div class="bg-slate-800 w-full max-w-lg rounded-[3rem] p-10 border border-cyan-500/20 shadow-2xl">
            <h3 class="text-2xl font-bold text-cyan-400 mb-4 font-tech uppercase">Data Backup</h3>
            <p class="text-slate-400 text-sm mb-6 uppercase tracking-tighter text-balance">Copy the following code to preserve your session status.</p>
            <div class="bg-black/50 p-6 rounded-lg border border-slate-700 mb-6 font-mono text-3xl font-bold text-emerald-400 uppercase" id="save-code-display">----</div>
            <div class="flex gap-3"><button id="btn-close-save" class="flex-1 py-3 text-slate-400 border border-slate-700 rounded-lg font-bold">CLOSE</button><button id="btn-copy-code" class="flex-1 py-3 bg-cyan-600 text-white font-bold rounded-lg uppercase shadow-lg shadow-cyan-900/40">Copy Code</button></div>
        </div>
    </div>

    <div id="toast" class="fixed top-24 right-6 bg-slate-900/95 backdrop-blur border-l-4 border-cyan-500 text-white px-6 py-5 rounded-2xl shadow-2xl flex items-start gap-4 transition-all duration-500 opacity-0 translate-x-12 pointer-events-none z-[70] max-w-sm">
        <div class="text-2xl pt-0.5">ðŸš€</div>
        <div class="space-y-1"><h4 id="toast-title" class="font-bold text-sm text-cyan-400 leading-none"></h4><p id="toast-message" class="text-xs text-slate-400 normal-case leading-snug"></p></div>
    </div>

    <script>
        // --- UTILITIES ---
        function parseMarkdown(t) {
            if (!t) return "";
            return t.replace(/\*\*(.*?)\*\*/g, '<span class="text-amber-400 font-bold">$1</span>').replace(/\n/g, '<br>');
        }

        // --- MASTER DATA ---
        const RANKS = [
            { title: 'ìˆ˜ìŠµ ìš”ì›', minXp: 0, color: 'bg-slate-400' },
            { title: 'ì •ì‹ ìš”ì›', minXp: 300, color: 'bg-purple-400' },
            { title: 'ìƒê¸‰ ìš”ì›', minXp: 800, color: 'bg-blue-400' },
            { title: 'íŠ¹ìˆ˜ ìš”ì›', minXp: 2000, color: 'bg-amber-400' },
            { title: 'íƒ€ìž„ í‚¤í¼', minXp: 5000, color: 'bg-red-500' }
        ];

        const EPISODES = [
            { id: 1, title: "ì¸ë¥˜ì˜ ì—¬ëª…", subTitle: "êµ¬ì„ê¸°", icon: "ðŸ”¥" },
            { id: 2, title: "ë¬¸ëª…ê³¼ êµ­ê°€", subTitle: "ì‹ ì„ê¸°", icon: "ðŸº" },
            { id: 3, title: "ì²­ë™ê¸° ì‚¬íšŒ", subTitle: "ì§ˆì„œì˜ ì‹œìž‘", icon: "âš”ï¸" },
            { id: 4, title: "ê³ ì¡°ì„  ìˆ˜í˜¸", subTitle: "ì²« ë‚˜ë¼ì˜ íƒ„ìƒ", icon: "ðŸŒž" },
            { id: 5, title: "ê³ êµ¬ë ¤ ê¸°ìƒ", subTitle: "ëŒ€ë¥™ì˜ ë¶ˆê½ƒ", icon: "ðŸŽ" },
            { id: 6, title: "ë°±ì œì˜ í–¥ê¸°", subTitle: "ë°”ë‹¤ì˜ ì˜ˆìˆ ", icon: "â›µ" },
            { id: 7, title: "ì‹ ë¼ì˜ ë³„", subTitle: "í™©ê¸ˆì˜ ë‚˜ë¼", icon: "â­" }
        ];

        const MISSIONS_MASTER = [
            { id: 'm1', episode: 1, year: 'BC 700,000', title: 'ë¯¸ì…˜ 1: êº¼ì§€ì§€ ì•ŠëŠ” í¬ë§', location: 'í•œë°˜ë„ ì „ì—­', desc: 'ë¶ˆì„ "ê´´ë¬¼"ì´ë¼ê³  ì†ì—¬ ì¸ë¥˜ê°€ ë¶ˆì„ ë©€ë¦¬í•˜ê²Œ ë§Œë“œëŠ” ì•…ë‹¹ì„ ë§‰ìœ¼ì„¸ìš”.', energyCost: 20, rewardXp: 50, locked: false, completed: false },
            { id: 'm2', episode: 1, year: 'BC 300,000', title: 'ë¯¸ì…˜ 2: ì£¼ë¨¹ë„ë¼ì˜ ë¹„ë°€', location: 'ì—°ì²œ ì „ê³¡ë¦¬', desc: 'ì„ê¸° ìž¥ì¸ì„ ë°©í•´í•˜ê³  ê·œì•”ì„ ìˆ¨ê¸°ëŠ” ì•…ë‹¹ì˜ ì €ì£¼ë¥¼ í’€ì–´ì•¼ í•©ë‹ˆë‹¤.', energyCost: 25, rewardXp: 70, locked: true, completed: false },
            { id: 'm3', episode: 1, year: 'BC 40,000', title: 'ë¯¸ì…˜ 3: í¥ìˆ˜ì•„ì´ì˜ ë§ˆì§€ë§‰ ì¸ì‚¬', location: 'ì²­ì£¼ í¥ìˆ˜êµ´', desc: 'ì¸ë¥˜ì˜ ë”°ëœ»í•œ ë§ˆìŒì„ ì‚­ì œí•˜ë ¤ëŠ” ì•…ë‹¹ìœ¼ë¡œë¶€í„° ì¸ë¥˜ì• ë¥¼ ìˆ˜í˜¸í•˜ì„¸ìš”.', energyCost: 30, rewardXp: 100, locked: true, completed: false },
            { id: 'm4', episode: 2, year: 'BC 8,000', title: 'ë¯¸ì…˜ 4: ì‹ ì„ê¸° í˜ëª…ì˜ ìœ„ê¸°', location: 'ê°•ê°€ ë§ˆì„', desc: 'ì„±ìž¥ ì–µì œ ê°€ìŠ¤ë¥¼ í•´ì²´í•˜ê³  ì •ì°© ìƒí™œì˜ ê°€ì¹˜ë¥¼ ì‚¬ëžŒë“¤ì—ê²Œ ì•Œë ¤ì£¼ì„¸ìš”.', energyCost: 30, rewardXp: 80, locked: true, completed: false },
            { id: 'm5', episode: 2, year: 'BC 6,000', title: 'ë¯¸ì…˜ 5: ì €ìž¥ì˜ ê¸°ìˆ ì„ ì§€ì¼œë¼', location: 'ì„œìš¸ ì•”ì‚¬ë™', desc: 'í† ê¸°ë¥¼ ë¶€ìˆ˜ê³  ë‹¤ë‹ˆëŠ” ì•…ë‹¹ì„ ìž¡ê³  ë¾°ì¡±í•œ ë°”ë‹¥ì˜ ë¹„ë°€ì„ ë°í˜€ ì €ìž¥ ê¸°ìˆ ì„ ì§€í‚¤ì„¸ìš”.', energyCost: 30, rewardXp: 90, locked: true, completed: false },
            { id: 'm6', episode: 2, year: 'BC 5,000', title: 'ë¯¸ì…˜ 6: ì‚¬ë¼ì§„ ì¡°ê°œ ê°€ë©´', location: 'ë¶€ì‚° ë™ì‚¼ë™ íŒ¨ì´', desc: 'ì•…ë‹¹ì´ ë°”ë‹¤ì— ë˜ì ¸ë²„ë¦° ê°€ë©´ì„ íšŒìˆ˜í•˜ì—¬ ë§ˆì„ ì¶•ì œë¥¼ ê°œìµœí•˜ì„¸ìš”!', energyCost: 35, rewardXp: 110, locked: true, completed: false },
            { id: 'm7', episode: 3, year: 'BC 1,500', title: 'ë¯¸ì…˜ 7: ë¹„íŒŒí˜• ë™ê²€ì˜ ì§„ì‹¤', location: 'ë§Œì£¼Â·í•œë°˜ë„', desc: 'ì§„ì§œ ë™ê²€ì„ í›”ì¹˜ê³  ë‚˜ë¬´ ë‹¨ê²€ì„ ë†“ì•„ë‘” ì•…ë‹¹ì„ ë§‰ì•„ ë¶€ì¡±ìž¥ì˜ ê¶Œìœ„ë¥¼ íšŒë³µí•˜ì„¸ìš”.', energyCost: 35, rewardXp: 120, locked: true, completed: false },
            { id: 'm8', episode: 3, year: 'BC 1,000', title: 'ë¯¸ì…˜ 8: ê³ ì¸ëŒ ìš´ë°˜ ìž‘ì „', location: 'ê°•í™”Â·ê³ ì°½Â·í™”ìˆœ', desc: 'ì§€ë ›ëŒ€ë¥¼ ì´ìš©í•´ ê±°ëŒ€í•œ ë®ê°œëŒì„ ì´ë™ì‹œì¼œ ì§€ë°°ìžì˜ ë¬´ë¤ì„ ì™„ì„±í•˜ì„¸ìš”.', energyCost: 40, rewardXp: 140, locked: true, completed: false },
            { id: 'm9', episode: 3, year: 'BC 1,000', title: 'ë¯¸ì…˜ 9: ì‚¬ë¼ì§„ ë°˜ë‹¬ ëŒì¹¼', location: 'í•œë°˜ë„ ë†ê²½ì§€', desc: 'ëŒì¹¼ì˜ êµ¬ë©ì— ëˆì„ ê¿°ì–´ ì‚¬ìš©í•˜ëŠ” ë²•ì„ ê°€ë¥´ì¹˜ê³  ê°€ì„ ìˆ˜í™•ì„ ì„±ê³µì‹œí‚¤ì„¸ìš”.', energyCost: 35, rewardXp: 150, locked: true, completed: false },
            { id: 'm10', episode: 4, year: 'BC 2,333', title: 'ë¯¸ì…˜ 10: ë‹¨êµ°ì˜ ê°•ë¦¼, í™ìµì¸ê°„ ì •ì‹ ', location: 'ì•„ì‚¬ë‹¬', desc: 'ì²œë¶€ì¸ì„ ë˜ì°¾ê³  ê³°ì˜ ì‹œë ¨ì„ ë„ì™€ í™ìµì¸ê°„ì˜ ì •ì‹ ìœ¼ë¡œ ë‚˜ë¼ë¥¼ ê±´êµ­í•˜ì„¸ìš”.', energyCost: 45, rewardXp: 160, locked: true, completed: false },
            { id: 'm11', episode: 4, year: 'BC 1,500', title: 'ë¯¸ì…˜ 11: ì‚¬ë¼ì§„ 8ì¡°ë²•, ì •ì˜ ìˆ˜í˜¸', location: 'ê³ ì¡°ì„  ì „ì—­', desc: 'ë¶€ì„œì§„ ë¹„ì„ì„ ë³µì›í•˜ê³  8ì¡°ë²•ì„ ì–´ê¸´ ìžë¥¼ íŒê²°í•˜ì—¬ ì‚¬íšŒ ì§ˆì„œë¥¼ ë°”ë¡œìž¡ìœ¼ì„¸ìš”.', energyCost: 40, rewardXp: 150, locked: true, completed: false },
            { id: 'm12', episode: 4, year: 'BC 194', title: 'ë¯¸ì…˜ 12: ì² ê¸° ë¬¸í™”ì˜ ì „íŒŒ', location: 'ì™•ê²€ì„±', desc: 'ìš©ê´‘ë¡œë¥¼ ìˆ˜ë¦¬í•˜ê³  ë‹¨ë‹¨í•œ ì² ì œ ë¬´ê¸°ë¥¼ ì œë ¨í•˜ì—¬ ìœ„ë§Œì¡°ì„ ì˜ ì„±ìž¥ì„ ë„ìš°ì„¸ìš”.', energyCost: 45, rewardXp: 180, locked: true, completed: false },
            { id: 'm13', episode: 5, year: 'BC 37', title: 'ë¯¸ì…˜ 13: ì£¼ëª½ì˜ íƒˆì¶œ', location: 'ë¶€ì—¬Â·ì••ë¡ê°•', desc: 'ìž ë“  ìƒë¬¼ë“¤ì„ ê¹¨ì›Œ ë‹¤ë¦¬ë¥¼ ë§Œë“¤ê³  ê³ êµ¬ë ¤ë¥¼ ê±´êµ­í•˜ëŠ” ì£¼ëª½ì„ ë„ìš°ì„¸ìš”.', energyCost: 45, rewardXp: 200, locked: true, completed: false },
            { id: 'm14', episode: 5, year: 'AD 414', title: 'ë¯¸ì…˜ 14: ê´‘ê°œí† ëŒ€ì™•ì˜ ë¹„ì„', location: 'ì§‘ì•ˆ', desc: 'ë¹„ì„ì—ì„œ ì§€ì›Œì§„ ë¬¸ìžë¥¼ ë³µì›í•˜ê³  ë…ìžì  ì—°í˜¸ "ì˜ë½"ì˜ ìžë¶€ì‹¬ì„ ë˜ì°¾ìœ¼ì„¸ìš”.', energyCost: 50, rewardXp: 220, locked: true, completed: false },
            { id: 'm15', episode: 5, year: 'AD 612', title: 'ë¯¸ì…˜ 15: ì‚´ìˆ˜ì˜ ë¬¼ê²°', location: 'ì‚´ìˆ˜', desc: 'ì ìž¥ì˜ í˜„ëŒ€ì‹ ë°©ìˆ˜ë³µì„ íšŒìˆ˜í•˜ê³  ì„ì§€ë¬¸ë•ì˜ ì‹œë¡œ ì ì„ ë¬¼ë¦¬ì¹˜ì„¸ìš”.', energyCost: 55, rewardXp: 250, locked: true, completed: false },
            { id: 'm16', episode: 6, year: 'AD 369', title: 'ë¯¸ì…˜ 16: ì¹ ì§€ë„ì˜ ë¹„ë°€', location: 'ë°±ì œ, ìœ„ë¡€ì„±', desc: 'ì¼ê³± ê°œì˜ ê°€ì§€ë¥¼ ê°€ì§„ ì¹¼ì„ ë””ìžì¸í•˜ê³  ì™•ì˜ ë©”ì‹œì§€ë¥¼ ë‹¤ì‹œ ìƒˆê¸°ì„¸ìš”.', energyCost: 50, rewardXp: 240, locked: true, completed: false },
            { id: 'm17', episode: 6, year: 'AD 525', title: 'ë¯¸ì…˜ 17: ë¬´ë ¹ì™•ë¦‰ì˜ ìˆ˜í˜¸ì‹ ', location: 'ì›…ì§„', desc: 'ë¬´ë¤ ìˆ˜í˜¸ì‹  ì§„ë¬˜ìˆ˜ë¥¼ ê¹¨ì›Œ í­íƒ„ì„ ë“  ì•…ë‹¹ì„ ì«“ì•„ë‚´ê³  ìž…êµ¬ë¥¼ ë´‰ì¸í•˜ì„¸ìš”.', energyCost: 55, rewardXp: 260, locked: true, completed: false },
            { id: 'm18', episode: 6, year: 'AD 567', title: 'ë¯¸ì…˜ 18: ë°±ì œ ê¸ˆë™ëŒ€í–¥ë¡œ', location: 'ì‚¬ë¹„', desc: 'í–¥ë¡œ ì† ì˜¤ì•…ì‚¬ì˜ ì•…ê¸°ë¥¼ ì°¾ì•„ í‰í™”ì˜ ìŒì•…ì„ ì—°ì£¼í•˜ê³  í–¥ê¸°ë¥¼ ë˜ì‚´ë¦¬ì„¸ìš”.', energyCost: 60, rewardXp: 300, locked: true, completed: false },
            { id: 'm19', episode: 7, year: 'AD 500', title: 'ë¯¸ì…˜ 19: ê¸ˆê´€ì˜ ì£¼ì¸, í™©ê¸ˆì˜ ë¹›', location: 'ê²½ì£¼', desc: 'ê³¡ì˜¥ì„ í”Œë¼ìŠ¤í‹±ìœ¼ë¡œ ë°”ê¾¼ ì•…ë‹¹ì„ ë§‰ê³  ì™•ì˜ ê¶Œìœ„ê°€ ë‹´ê¸´ ê¸ˆê´€ì„ ë³µì›í•˜ì„¸ìš”.', energyCost: 55, rewardXp: 280, locked: true, completed: false },
            { id: 'm20', episode: 7, year: 'AD 633', title: 'ë¯¸ì…˜ 20: ì²¨ì„±ëŒ€ì˜ ë³„ì§€ê¸°', location: 'ê²½ì£¼ ì²¨ì„±ëŒ€', desc: 'ì•ˆê°œ ìž¥ì¹˜ë¥¼ íŒŒê´´í•˜ê³  27ë‹¨ì˜ ëŒì„ ìŒ“ì•„ ì²œë¬¸ ê´€ì¸¡ì„ ì •ìƒí™”í•˜ì„¸ìš”.', energyCost: 60, rewardXp: 300, locked: true, completed: false },
            { id: 'm21', episode: 7, year: 'AD 645', title: 'ë¯¸ì…˜ 21: í™©ë£¡ì‚¬ 9ì¸µ ëª©íƒ‘', location: 'í™©ë£¡ì‚¬', desc: 'ê¸°ìš¸ì–´ì§„ ëª©íƒ‘ì˜ ì„¤ê³„ë¥¼ ìˆ˜ì •í•˜ê³  ì‚¼êµ­ í†µì¼ì˜ ì—¼ì›ì„ ë‹´ì•„ íƒ‘ì„ ì„¸ìš°ì„¸ìš”.', energyCost: 65, rewardXp: 350, locked: true, completed: false }
        ];

        const QUIZ_SCENARIOS = {
            'm1': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ë¶ˆì€ êµ¬ì„ê¸° ì¸ë¥˜ì—ê²Œ ì¶”ìœ„ë¥¼ ë§‰ì•„ì£¼ê³  ìŒì‹ì„ ìµí˜€ ë¨¹ê²Œ í•˜ì—¬ ë‡Œ ë°œë‹¬ì„ ë„ìš´ í˜ëª…ì  ë„êµ¬ìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì•…ë‹¹ì´ \"ë¶ˆì€ ë„ˆí¬ë¥¼ ìž¡ì•„ë¨¹ëŠ” ê´´ë¬¼ì´ë‹¤!\"ë¼ë©° ì„ ë™í•©ë‹ˆë‹¤. ë¶ˆì˜ ì§„ì§œ ìš©ë„ë¥¼ ì•Œë ¤ì£¼ì„¸ìš”.", question: "êµ¬ì„ê¸°ì¸ë“¤ì—ê²Œ ì•Œë ¤ì¤˜ì•¼ í•  **ë¶ˆì˜ ê°€ìž¥ ì¤‘ìš”í•œ ì—­í• **ì€?", options: [{ text: "ê³ ê¸°ë¥¼ ìµí˜€ ë‡Œ ë°œë‹¬ì„ ë•ê³  ë§¹ìˆ˜ì™€ ì¶”ìœ„ë¥¼ ë§‰ì•„ì¤€ë‹¤.", correct: true }, { text: "í™ì„ êµ¬ì›Œ ë¹—ì‚´ë¬´ëŠ¬ í† ê¸°ë¥¼ ë§Œë“œëŠ” ì—°ë£Œë¡œ ì“´ë‹¤.", correct: false }, { text: "ë¹„íŒŒí˜• ë™ê²€ì„ ì œë ¨í•˜ê¸° ìœ„í•´ ì“´ë‹¤.", correct: false }, { text: "ë²¼ë†ì‚¬ë¥¼ ìœ„í•œ ë¹„ë£Œë¡œ ì‚¬ìš©í•œë‹¤.", correct: false }] },
            'm2': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ì£¼ë¨¹ë„ë¼ëŠ” êµ¬ì„ê¸° ì‹œëŒ€ì˜ ë§ŒëŠ¥ ë„êµ¬ë¡œ ì •êµí•œ ê°€ê³µ ê¸°ìˆ ì´ í¬í•¨ë˜ì–´ ìžˆìŠµë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì•…ë‹¹ì´ ìž¥ì¸ë“¤ì˜ ì†ì— ì €ì£¼ë¥¼ ê±¸ì–´ íˆ¬ë°•í•œ ì°ê°œë§Œ ë§Œë“¤ê²Œ í•©ë‹ˆë‹¤. ìž¥ì¸ì—ê²Œ **ê·œì•”**ì„ ì „í•˜ê³  ê¸°ìˆ ì„ ë³µêµ¬í•˜ì„¸ìš”!", question: "ì—°ì²œ ì „ê³¡ë¦¬ **'ì•„ìŠë¦¬ì•ˆ ì£¼ë¨¹ë„ë¼'**ê°€ ì„¸ê³„ ì—­ì‚¬ì—ì„œ ì¤‘ìš”í•œ ì´ìœ ëŠ”?", options: [{ text: "ë™ì•„ì‹œì•„ì—ë„ ì •êµí•œ ì–‘ë©´ í•µì„ê¸° ê¸°ìˆ ì´ ì¡´ìž¬í–ˆìŒì„ ì¦ëª…í–ˆë‹¤.", correct: true }, { text: "ìœ ëŸ½ì—ì„œ ìˆ˜ìž…ëœ ë¬¼ê±´ìž„ì´ ë°í˜€ì ¸ êµë¥˜ì˜ ì¦ê±°ê°€ ë˜ì—ˆë‹¤.", correct: false }, { text: "ìµœì´ˆë¡œ ì² ì„ ì‚¬ìš©í•˜ì—¬ ë§Œë“  ê°•ë ¥í•œ ë¬´ê¸°ì˜€ë‹¤.", correct: false }, { text: "ë†ì‚¬ë¥¼ ì§“ê¸° ìœ„í•´ ë•…ì„ íŒŒëŠ” ì „ìš© ë„êµ¬ì˜€ë‹¤.", correct: false }] },
            'm3': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** í¥ìˆ˜ì•„ì´ ìœ ê³¨ ì£¼ë³€ì˜ êµ­í™”ê½ƒ ê°€ë£¨ëŠ” êµ¬ì„ê¸°ì¸ë“¤ì—ê²Œë„ ìž¥ë¡€ ì˜ì‹ê³¼ ì‚¬í›„ ì„¸ê³„ê´€ì´ ìžˆì—ˆìŒì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì•…ë‹¹ì´ ì‹œì‹ ì„ ê·¸ëƒ¥ ë²„ë¦¬ë¼ê³  ì„¸ë‡Œí•˜ë©° ê½ƒì„ ì‹œë“¤ê²Œ í•©ë‹ˆë‹¤. ì‹±ì‹±í•œ **êµ­í™”ê½ƒ**ì„ ëª¨ì•„ ìž¥ë¡€ë¥¼ ë„ìš°ì„¸ìš”!", question: "í¥ìˆ˜ì•„ì´ ìœ ê³¨ ì£¼ë³€ì˜ **êµ­í™”ê½ƒ ê°€ë£¨**ê°€ ì•Œë ¤ì£¼ëŠ” ì—­ì‚¬ì  ì‚¬ì‹¤ì€?", options: [{ text: "êµ¬ì„ê¸°ì¸ë“¤ì—ê²Œë„ ì£½ìŒì„ ìŠ¬í¼í•˜ëŠ” 'ìž¥ë¡€ í’ìŠµ'ê³¼ 'ì‚¬í›„ ì„¸ê³„ê´€'ì´ ì¡´ìž¬í–ˆë‹¤.", correct: true }, { text: "ê½ƒì„ ë§ë ¤ì„œ ì•½ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì§€í˜œê°€ ìžˆì—ˆë‹¤.", correct: false }, { text: "ë°”ëžŒì— ë‚ ë ¤ì™€ ìš°ì—°ížˆ ë™êµ´ì— ìŒ“ì¸ ê²ƒì´ë‹¤.", correct: false }, { text: "ë™êµ´ ë‚´ë¶€ë¥¼ ì•„ë¦„ë‹µê²Œ ê¾¸ë¯¸ê¸° ìœ„í•´ ê½ƒì„ ìž¬ë°°í–ˆë‹¤.", correct: false }] },
            'm4': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ì‹ ì„ê¸° ì‹œëŒ€ì— ë†ê²½ê³¼ ëª©ì¶•ì´ ì‹œìž‘ë˜ë©´ì„œ ì¸ë¥˜ëŠ” ì´ë™ ìƒí™œì„ ë©ˆì¶”ê³  ì •ì°©í•˜ê¸° ì‹œìž‘í–ˆìŠµë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ê°€ìŠ¤ë¥¼ ë¿Œë ¤ ë†ì‚¬ë¥¼ ë§ì¹˜ê³  ì‚¬ëžŒë“¤ì„ ë‹¤ì‹œ ë– ëŒì´ë¡œ ë§Œë“¤ë ¤ í•©ë‹ˆë‹¤. **ëŒë‚«**ìœ¼ë¡œ ìˆ˜í™•ì˜ ê¸°ì¨ì„ ë³´ì—¬ì£¼ì„¸ìš”!", question: "ì‹ ì„ê¸° í˜ëª…ìœ¼ë¡œ ì¸í•´ ë‚˜íƒ€ë‚œ **ê°€ìž¥ ì¤‘ìš”í•œ ìƒí™œì˜ ë³€í™”**ëŠ”?", options: [{ text: "ê°•ê°€ë‚˜ ë°”ë‹·ê°€ì— ì›€ì§‘ì„ ì§“ê³  ì •ì°© ìƒí™œì„ ì‹œìž‘í–ˆë‹¤.", correct: true }, { text: "ì² ì„ ë…¹ì—¬ ë‹¨ë‹¨í•œ ë¬´ê¸°ì™€ ë†ê¸°êµ¬ë¥¼ ë§Œë“¤ì—ˆë‹¤.", correct: false }, { text: "ì‚¬ìœ  ìž¬ì‚°ì´ ìƒê¸°ê³  ì‹ ë¶„ ê³„ê¸‰ì´ ë°œìƒí–ˆë‹¤.", correct: false }, { text: "ë¨¹ê±°ë¦¬ë¥¼ ì°¾ì•„ ëŠìž„ì—†ì´ ì´ë™í•˜ë©° ë™êµ´ì— ì‚´ì•˜ë‹¤.", correct: false }] },
            'm5': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ë¹—ì‚´ë¬´ëŠ¬ í† ê¸°ëŠ” ì‹ ì„ê¸°ì¸ì˜ ì§€í˜œê°€ ë‹´ê¸´ ì €ìž¥ ë„êµ¬ë¡œ ë°”ë‹¥ì´ ë¾°ì¡±í•œ ê²ƒì´ íŠ¹ì§•ìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** í† ê¸°ë¥¼ ëª¨ë‘ ë¶€ìˆ˜ê³  ë‹¤ë‹™ë‹ˆë‹¤. ì¡°ê°ì„ ì´ì–´ ë¶™ì—¬ ë³µì›í•˜ê³  **Vìž ëª¨ì–‘ ë°”ë‹¥**ì˜ ë¹„ë°€ì„ ë°ížˆì„¸ìš”!", question: "ì‹ ì„ê¸°ì¸ë“¤ì€ ì™œ í† ê¸°ì˜ ë°‘ë°”ë‹¥ì„ **ë¾°ì¡±í•˜ê²Œ** ë§Œë“¤ì—ˆì„ê¹Œìš”?", options: [{ text: "ê°•ê°€ë‚˜ ë°”ë‹·ê°€ì˜ ëª¨ëž˜ë°­ì— ê½‚ì•„ ê³ ì •í•˜ê¸° ìœ„í•´", correct: true }, { text: "ë¨¸ë¦¬ì— ì´ê³  ë‹¤ë‹ˆê¸° íŽ¸í•˜ê²Œ ë§Œë“¤ê¸° ìœ„í•´", correct: false }, { text: "ë¹—ë¬¼ì´ ìž˜ í˜ëŸ¬ë‚´ë¦¬ê²Œ í•˜ê¸° ìœ„í•´", correct: false }, { text: "ì‹íƒ ìœ„ì— ì•ˆì •ì ìœ¼ë¡œ ì˜¬ë ¤ë‘ê¸° ìœ„í•´", correct: false }] },
            'm6': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ë™ì‚¼ë™ íŒ¨ì´ì˜ ì¡°ê°œ ê°€ë©´ì€ í’ìš”ë¥¼ ê¸°ì›í•˜ëŠ” ì¶•ì œë‚˜ ì˜ë¡€ì— ì‚¬ìš©ëœ ì´ˆê¸° ì˜ˆìˆ í’ˆìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì¡°ê°œ ê°€ë©´ê³¼ ìž¥ì‹ êµ¬ë¥¼ ë°”ë‹¤ì— ë˜ì ¸ë²„ë ¸ìŠµë‹ˆë‹¤. ê°€ë©´ì„ íšŒìˆ˜í•˜ê³  **ì¹˜ë ˆê±¸ì´**ë¥¼ ë§Œë“¤ì–´ ì¶•ì œë¥¼ ê°œìµœí•˜ì„¸ìš”!", question: "ì‹ ì„ê¸° **ì¡°ê°œê»ë°ê¸° ê°€ë©´**ì´ ê°€ì§€ëŠ” ì—­ì‚¬ì  ì˜ë¯¸ëŠ”?", options: [{ text: "í’ìš”ë¥¼ ê¸°ì›í•˜ê±°ë‚˜ ì¶•ì œ ë•Œ ì‚¬ìš©ëœ ì¸ë¥˜ ì´ˆê¸°ì˜ ì˜ˆìˆ ì´ìž ì‹ ì•™ì˜ ì¦ê±°ì´ë‹¤.", correct: true }, { text: "ë¶€ì¡± ê°„ì˜ ì „íˆ¬ì—ì„œ ì ì„ ìœ„í˜‘í•˜ê¸° ìœ„í•´ ë§Œë“  ìž¥ë¹„ì´ë‹¤.", correct: false }, { text: "ì¡°ê°œë¥¼ ë§Žì´ ìž¡ê¸° ìœ„í•´ ê·¸ë¬¼ì— ë‹¬ì•„ë†“ì€ ë‚šì‹œ ë„êµ¬ì´ë‹¤.", correct: false }, { text: "ë‹¤ë¥¸ ì§€ì—­ê³¼ì˜ êµì—­ì„ ìœ„í•´ í™”í ëŒ€ì‹  ì‚¬ìš©í•œ ë¬¼ê±´ì´ë‹¤.", correct: false }] },
            'm7': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ë¹„íŒŒí˜• ë™ê²€ì€ ë¶€ì¡±ìž¥ì˜ ê°•ë ¥í•œ ê¶Œìœ„ë¥¼ ìƒì§•í•˜ëŠ” ì²­ë™ê¸° ì‹œëŒ€ì˜ ë…ìžì  ìœ ë¬¼ìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì§„ì§œ ë™ê²€ì„ í›”ì¹˜ê³  ë‚˜ë¬´ ë‹¨ê²€ìœ¼ë¡œ ë°”ê¿”ì¹˜ê¸°í–ˆìŠµë‹ˆë‹¤. **ê±°í‘¸ì§‘**ì„ ì°¾ì•„ ì§„ì§œ ë™ê²€ì„ ì œë ¨í•˜ì„¸ìš”!", question: "ì²­ë™ê¸° ì‹œëŒ€ì˜ ìƒì§•ì¸ **'ë¹„íŒŒí˜• ë™ê²€'**ì´ ë‹¹ì‹œ ì‚¬íšŒì—ì„œ ê°€ì¡Œë˜ ì£¼ëœ ì˜ë¯¸ëŠ”?", options: [{ text: "ë¶€ì¡±ìž¥ì˜ ê°•ë ¥í•œ ê¶Œìœ„ì™€ ì§€ë°°ë ¥ì„ ìƒì§•í•˜ëŠ” ë„êµ¬ì˜€ë‹¤.", correct: true }, { text: "ëª¨ë“  ë°±ì„±ì´ í‰ë“±í•˜ê²Œ ì‚¬ìš©í•˜ë˜ ë†ê¸°êµ¬ì˜€ë‹¤.", correct: false }, { text: "ì‚¬ëƒ¥ì„ í•  ë•Œ ì§ìŠ¹ì˜ ê°€ì£½ì„ ë²—ê¸°ëŠ” ì „ìš© ì¹¼ì´ì—ˆë‹¤.", correct: false }, { text: "ë‹¤ë¥¸ ë‚˜ë¼ì™€ ë¬´ì—­í•  ë•Œ í™”í ëŒ€ìš©ìœ¼ë¡œ ì‚¬ìš©í•œ ì¹¼ì´ì—ˆë‹¤.", correct: false }] },
            'm8': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ê³ ì¸ëŒì€ ê±°ëŒ€í•œ ëŒì„ ì˜®ê¸¸ ìˆ˜ ìžˆëŠ” ìˆ˜ë§Žì€ ë…¸ë™ë ¥ì„ ë™ì›í•œ ê°•ë ¥í•œ êµ°ìž¥ì˜ ë“±ìž¥ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ê¸°ë¦„ì„ ë°œë¼ ëŒì„ ë¯¸ë„ëŸ½ê²Œ ë°©í•´í•©ë‹ˆë‹¤. **êµ´ë¦¼ëŒ€ì™€ ì§€ë ›ëŒ€**ë¡œ ë®ê°œëŒì„ ì´ë™ì‹œí‚¤ì„¸ìš”!", question: "ê±°ëŒ€í•œ ë¬´ë¤ì¸ **'ê³ ì¸ëŒ'**ì„ í†µí•´ ì•Œ ìˆ˜ ìžˆëŠ” ë‹¹ì‹œì˜ ì‚¬íšŒ ëª¨ìŠµì€?", options: [{ text: "ìˆ˜ë§Žì€ ë…¸ë™ë ¥ì„ ë™ì›í•  ìˆ˜ ìžˆëŠ” ê°•ë ¥í•œ ì§€ë°°ìžê°€ ë“±ìž¥í•œ ê³„ê¸‰ ì‚¬íšŒì˜€ë‹¤.", correct: true }, { text: "ëª¨ë“  ì‚¬ëžŒì´ ë˜‘ê°™ì´ ìž¬ì‚°ì„ ë‚˜ëˆ„ì–´ ê°–ëŠ” í‰ë“±í•œ ì‚¬íšŒì˜€ë‹¤.", correct: false }, { text: "ë†ì‚¬ë¥¼ ì§“ê³  ì—´ë§¤ ì±„ì§‘ë§Œ í•˜ë©° ë– ëŒë˜ ì‚¬íšŒì˜€ë‹¤.", correct: false }, { text: "ê¸€ìžë¥¼ ì‚¬ìš©í•˜ì—¬ ì™•ì˜ ì—…ì ì„ ê¸°ë¡ìœ¼ë¡œ ë‚¨ê¸°ë˜ ì‚¬íšŒì˜€ë‹¤.", correct: false }] },
            'm9': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ì²­ë™ê¸° ì‹œëŒ€ì—ë„ ë†ê¸°êµ¬ëŠ” ì£¼ë¡œ ì„ê¸°ë¥¼ ì‚¬ìš©í–ˆìœ¼ë©° ë°˜ë‹¬ ëŒì¹¼ì´ ëŒ€í‘œì ìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ëŒì¹¼ì„ ìˆ¨ê¸°ê³  ëŒë©ì´ë¡œ ë°”ê¿”ë†“ì•˜ìŠµë‹ˆë‹¤. **ëˆì„ ê¿°ì–´ ì‚¬ìš©í•˜ëŠ” ë²•**ì„ ê°€ë¥´ì³ ë²¼ ìˆ˜í™•ì„ ë„ìš°ì„¸ìš”!", question: "ì²­ë™ê¸° ì‹œëŒ€ì—ë„ ë†ê¸°êµ¬ë¡œ ì²­ë™ê¸° ëŒ€ì‹  **'ë°˜ë‹¬ ëŒì¹¼'** ê°™ì€ ì„ê¸°ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œ ì´ìœ ëŠ”?", options: [{ text: "ì²­ë™ì€ ë§Œë“¤ê¸°ê°€ ì–´ë µê³  ê·€í•´ì„œ ì£¼ë¡œ ë¬´ê¸°ë‚˜ ì œì‚¬ ë„êµ¬ë¡œ ì“°ì˜€ê¸° ë•Œë¬¸ì´ë‹¤.", correct: true }, { text: "ì²­ë™ì€ ëŒë³´ë‹¤ ì•½í•´ì„œ ë²¼ë¥¼ ë² ëŠ” ë° ì í•©í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ë‹¤.", correct: false }, { text: "ë‹¹ì‹œì—ëŠ” ì•„ì§ ì²­ë™ì„ ë§Œë“œëŠ” ê¸°ìˆ ì´ ë¶€ì¡±í–ˆê¸° ë•Œë¬¸ì´ë‹¤.", correct: false }, { text: "ëŒë¡œ ë§Œë“  ë„êµ¬ê°€ ì²­ë™ë³´ë‹¤ í›¨ì”¬ ë” íš¨ìœ¨ì ì´ì—ˆê¸° ë•Œë¬¸ì´ë‹¤.", correct: false }] },
            'm10': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ê³ ì¡°ì„  ê±´êµ­ ì´ì•¼ê¸°ì—ëŠ” ë„ë¦¬ ì¸ê°„ ì„¸ìƒì„ ì´ë¡­ê²Œ í•œë‹¤ëŠ” í™ìµì¸ê°„ ì •ì‹ ì´ ë‹´ê²¨ ìžˆìŠµë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì²œë¶€ì¸ì„ ìˆ¨ê¸°ê³  ê³°ì—ê²Œ ì‚¬íƒ•ì„ ì£¼ì–´ ìœ í˜¹í•©ë‹ˆë‹¤. ì§„ì§œ ë³´ë¬¼ì„ ì°¾ì•„ ì „ë‹¬í•˜ê³  **í™ìµì¸ê°„** ì •ì‹ ì„ ì§€í‚¤ì„¸ìš”!", question: "ê³ ì¡°ì„ ì˜ ê±´êµ­ ì´ë…ì¸ **'í™ìµì¸ê°„'**ì˜ ëœ»ì€ ë¬´ì—‡ì¸ê°€ìš”?", options: [{ text: "ë„ë¦¬ ì¸ê°„ ì„¸ìƒì„ ì´ë¡­ê²Œ í•œë‹¤.", correct: true }, { text: "ì™•ì—ê²Œ ë¬´ì¡°ê±´ ë³µì¢…í•˜ê³  ì¶©ì„±í•œë‹¤.", correct: false }, { text: "ë‹¤ë¥¸ ë‚˜ë¼ë¥¼ ì •ë³µí•˜ì—¬ ì˜í† ë¥¼ ë„“ížŒë‹¤.", correct: false }, { text: "ì˜¤ì§ ë¶€ìžë“¤ë§Œì´ í–‰ë³µí•œ ë‚˜ë¼ë¥¼ ë§Œë“ ë‹¤.", correct: false }] },
            'm11': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** 8ì¡°ë²•ì€ ê³ ì¡°ì„ ì˜ ì‚¬íšŒ ì§ˆì„œ ìœ ì§€ë¥¼ ìœ„í•œ ë²•ìœ¼ë¡œ ìƒëª… ì¡´ì¤‘ê³¼ ì‚¬ìœ  ìž¬ì‚° ì¸ì •ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ë¹„ì„ì„ ë¶€ìˆ˜ê³  ë²•ì˜ ê°œë…ì„ ì§€ì›Œë²„ë ¸ìŠµë‹ˆë‹¤. ë¹„ì„ì„ ë³µì›í•˜ê³  **8ì¡°ë²•**ì„ ì§€ì¼œ ì§ˆì„œë¥¼ ìž¡ìœ¼ì„¸ìš”!", question: "ê³ ì¡°ì„ ì˜ **'8ì¡°ë²•'** ì¤‘ 'ë‚¨ì˜ ë¬¼ê±´ì„ í›”ì¹œ ìžëŠ” ë…¸ë¹„ë¡œ ì‚¼ëŠ”ë‹¤'ë¥¼ í†µí•´ ì•Œ ìˆ˜ ìžˆëŠ” ì‚¬íšŒ ëª¨ìŠµì€?", options: [{ text: "ì‚¬ìœ  ìž¬ì‚°ì„ ì¸ì •í•˜ê³  ì‹ ë¶„ ê³„ê¸‰ì´ ì¡´ìž¬í•˜ëŠ” ì‚¬íšŒì˜€ë‹¤.", correct: true }, { text: "ëª¨ë“  ì‚¬ëžŒì´ ë²• ì—†ì´ë„ ì‚¬ëŠ” í‰ë“±í•œ ì‚¬íšŒì˜€ë‹¤.", correct: false }, { text: "ëˆìœ¼ë¡œ ëª¨ë“  ì£„ë¥¼ í•´ê²°í•˜ëŠ” í™”í ê²½ì œ ì‚¬íšŒì˜€ë‹¤.", correct: false }, { text: "ë‹¤ë¥¸ ë‚˜ë¼ì™€ì˜ êµì—­ì„ ë²•ìœ¼ë¡œ ê¸ˆì§€í•˜ë˜ ì‚¬íšŒì˜€ë‹¤.", correct: false }] },
            'm12': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ìœ„ë§Œì¡°ì„  ì‹œê¸° ì² ê¸° ë¬¸í™”ê°€ ë³¸ê²©ì ìœ¼ë¡œ ìˆ˜ìš©ë˜ë©° êµ­ë ¥ì´ ë¹„ì•½ì ìœ¼ë¡œ ì„±ìž¥í–ˆìŠµë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ìš©ê´‘ë¡œ ì˜¨ë„ë¥¼ ë‚®ì¶”ê³  ì§„í™ìœ¼ë¡œ ì¹¼ì„ ë§Œë“¤ê²Œ ì¡°ìž‘í–ˆìŠµë‹ˆë‹¤. **í’€ë¬´**ë¥¼ ê³ ì³ ì² ì œ ë¬´ê¸°ë¥¼ ì œë ¨í•˜ì„¸ìš”!", question: "ê³ ì¡°ì„ ì´ **ì² ê¸° ë¬¸í™”**ë¥¼ ë³¸ê²©ì ìœ¼ë¡œ ìˆ˜ìš©í•˜ë©´ì„œ ë‚˜íƒ€ë‚œ ê°€ìž¥ í° ë³€í™”ëŠ”?", options: [{ text: "ë†ì—… ìƒì‚°ë ¥ì´ í¬ê²Œ ëŠ˜ì–´ë‚˜ê³  êµ°ì‚¬ë ¥ì´ ë§¤ìš° ê°•ë ¥í•´ì¡Œë‹¤.", correct: true }, { text: "ì„ê¸° ë„êµ¬ì˜ ì‚¬ìš©ì´ ì´ì „ë³´ë‹¤ í›¨ì”¬ ë” ë§Žì•„ì¡Œë‹¤.", correct: false }, { text: "ì‚¬ëžŒë“¤ì´ ë†ì‚¬ë¥¼ í¬ê¸°í•˜ê³  ë‹¤ì‹œ ì‚¬ëƒ¥ë§Œ í•˜ê²Œ ë˜ì—ˆë‹¤.", correct: false }, { text: "ëª¨ë“  ì‚¬ëžŒì´ ì™•ì´ ë  ìˆ˜ ìžˆëŠ” ë¯¼ì£¼ì£¼ì˜ê°€ ì‹œìž‘ë˜ì—ˆë‹¤.", correct: false }] },
            'm13': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ì£¼ëª½ì€ ë›°ì–´ë‚œ í™œì†œì”¨ë¡œ ê³ êµ¬ë ¤ë¥¼ ê±´êµ­í•œ ì‹œì¡°ìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ê°•ë¬¼ì„ ìž ìž¬ì›Œ ì£¼ëª½ì˜ íƒˆì¶œì„ ë§‰ê³  í™œì‹œìœ„ë„ ëŠì—ˆìŠµë‹ˆë‹¤. **ë¬¼ê³ ê¸°ì™€ ìžë¼**ë¥¼ ê¹¨ì›Œ ë‹¤ë¦¬ë¥¼ ë§Œë“¤ê²Œ ë„ìš°ì„¸ìš”!", question: "ê³ êµ¬ë ¤ë¥¼ ì„¸ìš´ ì¸ë¬¼ë¡œ ì´ë¦„ì˜ ëœ»ì´ **'í™œì„ ìž˜ ì˜ëŠ” ì‚¬ëžŒ'**ì¸ ì¸ë¬¼ì€?", options: [{ text: "ì£¼ëª½ (ë™ëª…ì„±ì™•)", correct: true }, { text: "ì˜¨ì¡°", correct: false }, { text: "ë°•í˜ê±°ì„¸", correct: false }, { text: "ê¹€ìˆ˜ë¡œ", correct: false }] },
            'm14': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ê´‘ê°œí† ëŒ€ì™•ë¦‰ë¹„ëŠ” ê³ êµ¬ë ¤ì˜ ë„“ì€ ì˜í†  í™•ìž¥ê³¼ ë…ìžì  ì—°í˜¸ ì˜ë½ì˜ ìžë¶€ì‹¬ì„ ê¸°ë¡í•œ ë¹„ì„ìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ë¬¸ìžë¥¼ ì§€ì›Œë²„ë ¸ìŠµë‹ˆë‹¤! **æ°¸(ì˜), æ¨‚(ë½)** ë“± ì‚¬ë¼ì§„ ë¬¸ìžë¥¼ ì°¾ì•„ ë¹„ì„ì„ ì™„ì„±í•˜ì„¸ìš”!", question: "ìš°ë¦¬ë‚˜ë¼ ìµœì´ˆì˜ ë…ìžì  ì—°í˜¸ì¸ **'ì˜ë½'**ì€ ì–´ë–¤ ì˜ë¯¸ë¥¼ ë‹´ê³  ìžˆë‚˜ìš”?", options: [{ text: "ê³ êµ¬ë ¤ê°€ ì¤‘êµ­ê³¼ ëŒ€ë“±í•˜ë©° 'ì˜ì›í•œ ì¦ê±°ì›€'ì„ ëˆ„ë¦¬ëŠ” ìžì£¼ êµ­ê°€ìž„ì„ ì„ í¬í•¨", correct: true }, { text: "ì¤‘êµ­ í™©ì œì˜ ëª…ë ¹ì— ì ˆëŒ€ ë³µì¢…í•˜ë©° ë‚˜ë¼ë¥¼ ë‹¤ìŠ¤ë¦¬ê² ë‹¤ëŠ” ë‹¤ì§", correct: false }, { text: "ë°±ì„±ë“¤ì—ê²Œ ì„¸ê¸ˆì„ ë§Žì´ ê±·ì–´ ì™•ì‹¤ì„ ë¶€ìœ í•˜ê²Œ ë§Œë“¤ê² ë‹¤ëŠ” ê³„íš", correct: false }, { text: "ì˜í†  í™•ìž¥ì„ ì¤‘ë‹¨í•˜ê³  ë‹¤ë¥¸ ë‚˜ë¼ì™€ í‰í™”ë¡­ê²Œë§Œ ì§€ë‚´ê² ë‹¤ëŠ” ì•½ì†", correct: false }] },
            'm15': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ì‚´ìˆ˜ëŒ€ì²©ì€ ì„ì§€ë¬¸ë• ìž¥êµ°ì´ ë‘‘ì„ í„°ëœ¨ë¦¬ëŠ” ì§€ëžµìœ¼ë¡œ ìˆ˜ë‚˜ë¼ 113ë§Œ ëŒ€êµ°ì„ ê²©íŒŒí•œ ì „íˆ¬ìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ìˆ˜ë‚˜ë¼ì— í˜„ëŒ€ì‹ ìž¥ë¹„ë¥¼ ì£¼ì—ˆìŠµë‹ˆë‹¤! ìž¥ë¹„ë¥¼ íšŒìˆ˜í•˜ê³  **ë‘‘ì„ í„°ëœ¨ë¦¬ëŠ” íƒ€ì´ë°**ì„ ë§žì¶”ì„¸ìš”!", question: "ì‚´ìˆ˜ëŒ€ì²©ì—ì„œ ì„ì§€ë¬¸ë• ìž¥êµ°ì´ ì ìž¥ ìš°ì¤‘ë¬¸ì—ê²Œ ë³´ë‚¸ ì‹œì˜ í•µì‹¬ ë‚´ìš©ì€?", options: [{ text: "ì´ë¯¸ í° ê³µì„ ì„¸ì› ìœ¼ë‹ˆ ë§Œì¡±í•¨ì„ ì•Œê³  ëŒì•„ê°€ë¼ëŠ” ê²½ê³ ì™€ ì¡°ë¡±", correct: true }, { text: "ê³ êµ¬ë ¤ê°€ í•­ë³µí•  í…Œë‹ˆ êµ°ì‚¬ë¥¼ ê±°ë‘ì–´ ë‹¬ë¼ëŠ” ê°„ê³¡í•œ ë¶€íƒ", correct: false }, { text: "ìˆ˜ë‚˜ë¼ì˜ ë¬¸í™”ê°€ í›Œë¥­í•˜ë‹ˆ ìš°ë¦¬ì—ê²Œ ì „í•´ë‹¬ë¼ëŠ” ìš”ì²­", correct: false }, { text: "ì•žìœ¼ë¡œ ì‚¬ì´ì¢‹ê²Œ ì§€ë‚´ë©° í˜•ì œì˜ ë‚˜ë¼ê°€ ë˜ìžëŠ” ì œì•ˆ", correct: false }] },
            'm16': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ì¹ ì§€ë„ëŠ” ë°±ì œì˜ ë›°ì–´ë‚œ ì² ê¸° ê³µì˜ˆì™€ ëŒ€ì™¸ êµë¥˜ë¥¼ ìƒì§•í•˜ëŠ” ì¼ê³± ê°€ì§€ ëª¨ì–‘ì˜ ì¹¼ìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì¹¼ì„ í‰ë²”í•œ ë¶€ì—Œì¹¼ë¡œ ë°”ê¾¸ê³  ê¸€ìžë¥¼ ì§€ìš°ë ¤ í•©ë‹ˆë‹¤. **ì¼ê³± ê°œì˜ ê°€ì§€** ë””ìžì¸ì„ ë³µì›í•˜ê³  ë©”ì‹œì§€ë¥¼ ìƒˆê¸°ì„¸ìš”!", question: "ë°±ì œ ê·¼ì´ˆê³ ì™•ì´ ì™œ ì™•ì—ê²Œ ë³´ë‚¸ **ì¹ ì§€ë„**ê°€ ì•Œë ¤ì£¼ëŠ” ì‚¬ì‹¤ì€?", options: [{ text: "ë°±ì œì˜ ë›°ì–´ë‚œ ê¸ˆì† ê³µì˜ˆ ê¸°ìˆ ê³¼ í™œë°œí•œ ëŒ€ì™¸ ê´€ê³„ë¥¼ ì¦ëª…í•œë‹¤.", correct: true }, { text: "ë°±ì œê°€ ë°”ë‹¤ ë„ˆë¨¸ ì „ìŸì„ ì‹œìž‘í•œë‹¤ëŠ” ì„ ì „í¬ê³ ì´ë‹¤.", correct: false }, { text: "ë°±ì œì˜ ì£¼ë°© ê¸°êµ¬ê°€ ì„¸ê³„ ìµœê³ ì˜€ìŒì„ ë³´ì—¬ì¤€ë‹¤.", correct: false }, { text: "ì¼ë³¸ì—ì„œ ìˆ˜ìž…í•´ì˜¨ ê³ ê¸‰ ë¬´ê¸°ìž„ì„ ë‚˜íƒ€ë‚¸ë‹¤.", correct: false }] },
            'm17': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ë¬´ë ¹ì™•ë¦‰ì€ ë²½ëŒë¬´ë¤ìœ¼ë¡œ ìˆ˜í˜¸ì‹  ì§„ë¬˜ìˆ˜ì™€ í™”ë ¤í•œ ìž¥ì‹ êµ¬ê°€ ë‹¤ìˆ˜ ì¶œí† ë˜ì—ˆìŠµë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** í­íƒ„ìœ¼ë¡œ ìž…êµ¬ë¥¼ íŒŒê´´í•˜ë ¤ í•©ë‹ˆë‹¤! **ì§„ë¬˜ìˆ˜**ë¥¼ ê¹¨ì›Œ ì•…ë‹¹ì„ ì«“ì•„ë‚´ê³  ìž…êµ¬ë¥¼ ë´‰ì¸í•˜ì„¸ìš”!", question: "ë¬´ë ¹ì™•ë¦‰ì˜ ë²½ëŒ ì–‘ì‹ê³¼ ìœ ë¬¼ì„ í†µí•´ ì•Œ ìˆ˜ ìžˆëŠ” ë°±ì œ ë¬¸í™”ì˜ íŠ¹ì§•ì€?", options: [{ text: "ì¤‘êµ­ ë‚¨ì¡°ì™€ í™œë°œížˆ êµë¥˜í•œ ë°±ì œì˜ êµ­ì œì„±ì„ ë³´ì—¬ì¤€ë‹¤.", correct: true }, { text: "ì™¸ë¶€ì™€ ë‹¨ì ˆëœ ë°±ì œë§Œì˜ ë…ìžì ì¸ ë¬¸í™”ë§Œ ë°œë‹¬í–ˆìŒì„ ë³´ì—¬ì¤€ë‹¤.", correct: false }, { text: "ì•„ë¬´ëŸ° ìž¥ì‹ êµ¬ë„ ë„£ì§€ ì•ŠëŠ” ì†Œë°•í•œ ìž¥ë¡€ ë¬¸í™”ë¥¼ ë³´ì—¬ì¤€ë‹¤.", correct: false }, { text: "ë°±ì œ ì‚¬ëžŒë“¤ì´ í‰ì•¼ ì§€ëŒ€ì—ì„œë§Œ ìƒí™œí–ˆìŒì„ ì¦ëª…í•œë‹¤.", correct: false }] },
            'm18': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ê¸ˆë™ëŒ€í–¥ë¡œëŠ” ë°±ì œ ê¸ˆì† ê³µì˜ˆì˜ ì •ìˆ˜ë¡œ ë¶ˆêµì™€ ë„êµ ì‚¬ìƒì´ ì¡°í™”ë¥¼ ì´ë£¨ê³  ìžˆìŠµë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì•…ì‚¬ë“¤ì˜ ì•…ê¸°ë¥¼ ëºì–´ ìŒì•…ì„ ë©ˆì¶”ë ¤ í•©ë‹ˆë‹¤. **ì˜¤ì•…ì‚¬**ë¥¼ ì°¾ì•„ ì•…ê¸°ë¥¼ ëŒë ¤ì£¼ê³  ë´‰í™©ì„ ë¹›ë‚´ì„¸ìš”!", question: "ë°±ì œ **ê¸ˆë™ëŒ€í–¥ë¡œ**ì— ë‹´ê¸´ ì¢…êµì Â·ì˜ˆìˆ ì  ê°€ì¹˜ëŠ” ë¬´ì—‡ì¸ê°€ìš”?", options: [{ text: "ë¶ˆêµì™€ ë„êµì˜ ì„¸ê³„ê´€ì´ ì–´ìš°ëŸ¬ì§„ ë°±ì œ ê¸ˆì† ê³µì˜ˆì˜ ìµœê³  ì •ìˆ˜ì´ë‹¤.", correct: true }, { text: "ìŒì‹ì„ ë“ì—¬ ë¨¹ê¸° ìœ„í•´ íŠ¹ë³„ížˆ ì œìž‘ëœ í™”ë ¤í•œ ì£¼ë°© ë„êµ¬ì´ë‹¤.", correct: false }, { text: "ì™¸êµ­ì—ì„œ ìˆ˜ìž…í•´ì˜¨ ë¬¼ê±´ìœ¼ë¡œ ë°±ì œ ê¸°ìˆ ê³¼ëŠ” ìƒê´€ì´ ì—†ë‹¤.", correct: false }, { text: "ì˜¤ì§ ì‹ ë¼ì˜ ë¬¸í™”ì—ë§Œ ì˜í–¥ì„ ë°›ì•„ ì œìž‘ëœ ëª¨ë°©í’ˆì´ë‹¤.", correct: false }] },
            'm19': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ì‹ ë¼ ê¸ˆê´€ì€ ì„¸ê³„ì ìœ¼ë¡œ í™”ë ¤í•œ ìœ ë¬¼ì´ë©° ê³¡ì˜¥ì€ ìƒëª…ë ¥ê³¼ ê¶Œìœ„ë¥¼ ìƒì§•í•©ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ê³¡ì˜¥ì„ í”Œë¼ìŠ¤í‹±ìœ¼ë¡œ ë°”ê¿¨ìŠµë‹ˆë‹¤! **ì´ˆë¡ë¹› ê³¡ì˜¥**ë“¤ì„ ì°¾ì•„ ê¸ˆì‹¤ë¡œ ë‹¨ë‹¨ížˆ ê³ ì •í•˜ì—¬ ì™•ì˜ ê¶Œìœ„ë¥¼ ì„¸ìš°ì„¸ìš”!", question: "ì‹ ë¼ ê¸ˆê´€ì— ë‹¬ë¦° **'ê³¡ì˜¥(êµ½ì€ ì˜¥)'**ì€ ë¬´ì—‡ì„ ìƒì§•í•˜ë‚˜ìš”?", options: [{ text: "ìƒëª…ë ¥ê³¼ ê¶Œìœ„", correct: true }, { text: "ë¬¼ê³ ê¸°ì˜ ëˆˆ", correct: false }, { text: "ìž¥ë¡€ì˜ ìŠ¬í””", correct: false }, { text: "ë‹¨ìˆœí•œ ë…¸ë¦¬ê°œ", correct: false }] },
            'm20': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** ì²¨ì„±ëŒ€ëŠ” ì„ ë•ì—¬ì™• ë•Œ ì„¸ì›Œì§„ ì²œë¬¸ëŒ€ë¡œ 27ë‹¨ì˜ ëŒì„ ì •êµí•˜ê²Œ ìŒ“ì•„ ì˜¬ë ¸ìŠµë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì•ˆê°œ ìž¥ì¹˜ë¡œ ë³„ì„ ê°€ë ¸ìŠµë‹ˆë‹¤! ìž¥ì¹˜ë¥¼ ë¶€ìˆ˜ê³  **27ë‹¨ì˜ ëŒ**ì„ í•˜ë‚˜í•˜ë‚˜ ìŒ“ì•„ ë³„ì§€ê¸°ë¥¼ ë„ìš°ì„¸ìš”!", question: "ë™ì–‘ì—ì„œ ê°€ìž¥ ì˜¤ëž˜ëœ ì²œë¬¸ëŒ€ì¸ **'ì²¨ì„±ëŒ€'**ë¥¼ ì„¸ìš´ ì£¼ëœ ëª©ì ì€?", options: [{ text: "í•˜ëŠ˜ì˜ ì›€ì§ìž„ì„ ê´€ì°°í•´ ë†ì‚¬ ì‹œê¸°ë¥¼ ì •í•˜ê³  êµ­ê°€ì˜ ê¸¸í‰ì„ ì ì¹¨", correct: true }, { text: "ì ì˜ ì¹¨ìž…ì„ ë¯¸ë¦¬ ê°ì‹œí•˜ê³  ë´‰í™”ë¥¼ ì˜¬ë¦¬ê¸° ìœ„í•´", correct: false }, { text: "í™”ëž‘ë“¤ì´ ìˆ˜ë ¨ì„ í•˜ë˜ ë„ìž¥", correct: false }, { text: "ì™•ì˜ ìœ ê³¨ì„ ì•ˆì¹˜í•˜ê¸° ìœ„í•œ ê±°ëŒ€í•œ ë¬´ë¤", correct: false }] },
            'm21': { scenario: "**ì—­ì‚¬ì  íŒ©íŠ¸:** í™©ë£¡ì‚¬ 9ì¸µ ëª©íƒ‘ì€ ì‚¼êµ­ í†µì¼ì˜ ê°„ì ˆí•œ ì—¼ì›ì„ ë‹´ì•„ 9ê°œ ë‚˜ë¼ë¥¼ ì˜ë¯¸í•˜ëŠ” ì¸µì„ ì˜¬ë¦° íƒ‘ìž…ë‹ˆë‹¤.\n\n**ì•…ë‹¹ì˜ ì™œê³¡:** ì„¤ê³„ë¥¼ ì¡°ìž‘í•´ íƒ‘ì„ ê¸°ìš¸ê²Œ í•©ë‹ˆë‹¤. **ì˜¬ë°”ë¥¸ ê³µë²•**ìœ¼ë¡œ ëª©íƒ‘ì„ 9ì¸µê¹Œì§€ ë‹¹ë‹¹ížˆ ì˜¬ë¦¬ì„¸ìš”!", question: "ì‹ ë¼ê°€ ê±°ëŒ€í•œ **'í™©ë£¡ì‚¬ 9ì¸µ ëª©íƒ‘'**ì„ ì„¸ìš´ ê°€ìž¥ í° ì´ìœ ëŠ”?", options: [{ text: "ì£¼ë³€ ë‚˜ë¼ì˜ ì¹¨ëžµì„ ë§‰ê³  ì‚¼êµ­ í†µì¼ì„ ì´ë£¨ë ¤ëŠ” ì—¼ì›", correct: true }, { text: "ë°±ì„±ë“¤ì—ê²Œ ì„¸ê¸ˆì„ ë§Žì´ ê±·ê¸° ìœ„í•œ ëª…ë¶„", correct: false }, { text: "ê³ êµ¬ë ¤ì˜ ê³µê²©ì„ í”¼í•˜ê¸° ìœ„í•œ ì€ì‹ ì²˜", correct: false }, { text: "ë°”ë‹¤ ê±´ë„ˆ ë¬´ì—­ì„ ìœ„í•œ ë“±ëŒ€ ì—­í• ", correct: false }] }
        };

        // --- 2. LOGIC FUNCTIONS ---
        let state = { codename: 'Unknown', energy: 100, xp: 0, currentRankIndex: 0, activeEpisodeId: 1, missions: JSON.parse(JSON.stringify(MISSIONS_MASTER)) };
        let currentQuizMid = null, currentQuizData = null, currentMathAnswer = 0;
        let selectorsBound = false;

        // UI Selectors
        let elAgentName, elEnergyBar, elEnergyText, elXpText, elXpBar, elRankText, elRankIndicator, elRankList, elMissionList, elEpisodeTabs, elBtnRecharge, mathModal, elMathQuestion, elMathAnswer, quizModal, quizDynamic, saveModal, elSaveDisplay, elToast, elIntro, elIntroInput, elIntroCode, elStartBtn;

        function bindElements() {
            elAgentName = document.getElementById('agent-name'); elEnergyBar = document.getElementById('energy-bar'); elEnergyText = document.getElementById('energy-text');
            elXpText = document.getElementById('current-xp'); elXpBar = document.getElementById('xp-bar'); elRankText = document.getElementById('rank-text');
            elRankIndicator = document.getElementById('rank-indicator'); elRankList = document.getElementById('rank-list'); elMissionList = document.getElementById('mission-list');
            elEpisodeTabs = document.getElementById('episode-tabs'); elBtnRecharge = document.getElementById('btn-recharge'); mathModal = document.getElementById('math-modal');
            elMathQuestion = document.getElementById('math-question'); elMathAnswer = document.getElementById('math-answer'); quizModal = document.getElementById('quiz-modal');
            quizDynamic = document.getElementById('quiz-dynamic-content'); saveModal = document.getElementById('save-modal'); elSaveDisplay = document.getElementById('save-code-display');
            elToast = document.getElementById('toast'); elIntro = document.getElementById('intro-screen'); elIntroInput = document.getElementById('intro-name-input');
            elIntroCode = document.getElementById('intro-code-input'); elStartBtn = document.getElementById('btn-start-game');
            selectorsBound = true;
        }

        function showToast(t, m, c = 'bg-slate-700') {
            if (!elToast) return;
            const titleEl = document.getElementById('toast-title'), msgEl = document.getElementById('toast-message');
            if (titleEl && msgEl) {
                titleEl.textContent = t; msgEl.textContent = m;
                elToast.className = `fixed top-24 right-6 bg-slate-900/95 backdrop-blur border-l-4 ${c.replace('bg-', 'border-')} text-white px-6 py-5 rounded-2xl shadow-2xl flex items-start gap-4 transition-all duration-500 z-[70] max-w-sm opacity-100 translate-x-0`;
                setTimeout(() => { if(elToast) { elToast.classList.replace('opacity-100', 'opacity-0'); elToast.classList.replace('translate-x-0', 'translate-x-12'); } }, 4000);
            }
        }

        function updateStatsUI() {
            if (!selectorsBound) bindElements();
            if (!elEnergyBar) return;
            elEnergyBar.style.width = `${state.energy}%`; elEnergyText.textContent = `${state.energy}%`;
            const r = RANKS[state.currentRankIndex], n = RANKS[state.currentRankIndex + 1];
            elXpText.textContent = state.xp; elRankText.textContent = r.title;
            elRankIndicator.className = `w-3.5 h-3.5 rounded-full ${r.color} shadow-lg`;
            if (n) elXpBar.style.width = `${Math.min(100, Math.max(0, ((state.xp - r.minXp) / (n.minXp - r.minXp)) * 100))}%`;
            else elXpBar.style.width = '100%';
            updateRankListUI(); updateLocks(); renderTabs(); renderMissions();
        }

        function updateRankListUI() {
            if (!elRankList) return;
            elRankList.innerHTML = RANKS.map((r, i) => `<li class="flex items-center justify-between p-3 rounded-xl transition-all ${i === state.currentRankIndex ? 'bg-cyan-500/10 ring-1 ring-cyan-500/50' : 'opacity-30'}">
                <div class="flex items-center gap-3"><div class="w-3 h-3 rounded-full ${r.color}"></div><span class="text-xs font-bold ${i === state.currentRankIndex ? 'text-white' : 'text-slate-400'} uppercase">${r.title}</span></div>
                <span class="text-[10px] font-mono font-bold text-slate-500 uppercase">${r.minXp} XP</span></li>`).join('');
        }

        function updateLocks() {
            if (state.missions.length > 0 && !state.missions[0].completed) state.missions[0].locked = false;
            for (let i = 0; i < state.missions.length - 1; i++) if (state.missions[i].completed) state.missions[i+1].locked = false;
        }

        function renderTabs() {
            if (!elEpisodeTabs) return;
            const unlockedEps = [...new Set(state.missions.filter(m => !m.locked).map(m => m.episode))];
            elEpisodeTabs.innerHTML = EPISODES.map(ep => {
                const isActive = state.activeEpisodeId === ep.id;
                const isUnlocked = ep.id === 1 || unlockedEps.includes(ep.id);
                return `<button onclick="${isUnlocked ? `setActiveEpisode(${ep.id})` : ''}" class="px-2 py-3 rounded-2xl font-tech font-bold text-[10px] transition-all flex flex-col items-center justify-center border border-slate-800 bg-slate-900/50 ${isActive ? 'active-tab' : 'text-slate-500 hover:border-slate-600'} ${!isUnlocked ? 'opacity-30 cursor-not-allowed' : 'cursor-pointer'}">
                    <span class="text-xl mb-1">${ep.icon}</span><span class="mt-0.5 whitespace-nowrap overflow-hidden text-ellipsis w-full px-1 uppercase leading-none">${ep.title}</span></button>`;
            }).join('');
        }

        window.setActiveEpisode = function(id) { state.activeEpisodeId = id; updateStatsUI(); elMissionList.scrollTop = 0; };

        function renderMissions() {
            if (!elMissionList) return;
            const list = state.missions.filter(m => m.episode === state.activeEpisodeId);
            elMissionList.innerHTML = list.map(m => {
                const isL = m.locked, isC = m.completed, canA = state.energy >= m.energyCost;
                let bCls = 'border-slate-800', bgCls = 'bg-slate-900/40', btnCls = canA ? 'bg-cyan-600 hover:bg-cyan-500 text-white' : 'bg-slate-800 text-slate-500 cursor-not-allowed', btnTxt = canA ? 'START' : 'LOW POWER', badge = '';
                if (isC) { bCls = 'border-slate-800/50'; bgCls = 'bg-slate-950/50'; btnCls = 'bg-slate-800 text-slate-500 cursor-default'; btnTxt = 'DONE'; badge = `<div class="absolute inset-0 flex items-center justify-center z-10 pointer-events-none uppercase"><div class="border-4 border-slate-700/50 text-slate-600 font-stamp text-4xl p-4 rotate-[-15deg] opacity-70 uppercase tracking-tighter">Completed</div></div>`; }
                else if (isL) { bCls = 'border-slate-900'; bgCls = 'bg-slate-950/20'; btnCls = 'hidden'; badge = `<div class="absolute inset-0 flex items-center justify-center bg-slate-950/70 z-10 backdrop-blur-[1px] rounded-[2rem] uppercase"><span class="flex items-center gap-2 font-mono text-slate-600 bg-slate-950 px-5 py-2 rounded-full border border-slate-800 uppercase tracking-widest text-[10px]"><svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg> System Locked</span></div>`; }
                else bCls = 'border-slate-700 hover:border-cyan-500/50';
                return `<div class="relative group border ${bCls} ${bgCls} rounded-[2rem] p-7 transition-all duration-300 overflow-hidden shadow-lg">
                    ${badge}
                    <div class="flex flex-col md:flex-row justify-between md:items-start gap-5 mb-5 ${isC ? 'opacity-40' : ''}">
                        <div class="space-y-3">
                            <div class="flex items-center gap-3"><span class="font-tech text-3xl font-bold ${isL || isC ? 'text-slate-700' : 'text-cyan-400'}">${m.year}</span><span class="text-[9px] px-3 py-1 rounded-full bg-slate-800 text-slate-400 border border-slate-700 uppercase font-bold tracking-widest">${m.location}</span></div>
                            <h3 class="text-xl font-bold text-white tracking-tight">${m.title}</h3>
                            <p class="text-slate-400 text-sm leading-relaxed max-w-xl font-light normal-case">${parseMarkdown(m.desc)}</p>
                        </div>
                        <div class="shrink-0 flex flex-col items-end gap-1"><span class="text-[9px] font-mono text-slate-600 tracking-widest uppercase">Reward</span><span class="text-amber-400 font-bold font-tech text-2xl tracking-tighter">+${m.rewardXp} XP</span></div>
                    </div>
                    <div class="flex items-center justify-between border-t border-slate-800/80 pt-5 ${isC ? 'opacity-40' : ''}">
                        <div class="flex items-center gap-2 text-xs font-bold text-slate-500 uppercase"><span class="flex items-center gap-1.5 ${canA || isC ? 'text-cyan-400/80' : 'text-rose-500'}"><svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>-${m.energyCost}% Power</span></div>
                        <button onclick="attemptMission('${m.id}')" class="mission-btn px-8 py-2.5 rounded-xl font-bold text-xs transition-all flex items-center gap-2 shadow-lg active:scale-[0.97] ${btnCls}" ${isC || isL ? 'disabled' : ''}>${btnTxt}</button>
                    </div></div>`;
            }).join('');
        }

        window.attemptMission = function(mId) {
            const m = state.missions.find(x => x.id === mId);
            if (!m || m.completed || m.locked) return;
            if (state.energy < m.energyCost) { showToast('LOW ENERGY', 'ì‹œìŠ¤í…œ ì¶©ì „ì´ í•„ìš”í•©ë‹ˆë‹¤.', 'bg-rose-500'); return; }
            if (QUIZ_SCENARIOS[mId]) openQuizModal(mId); else completeMission(mId);
        };

        function completeMission(mId) {
            const idx = state.missions.findIndex(x => x.id === mId); if (idx === -1) return;
            const m = state.missions[idx]; m.completed = true; state.energy -= m.energyCost; state.xp += m.rewardXp;
            if (idx + 1 < state.missions.length) { 
                const nextM = state.missions[idx + 1]; nextM.locked = false;
                if (nextM.episode !== m.episode) {
                    state.activeEpisodeId = nextM.episode;
                    showToast('UNLOCKED', `ì—í”¼ì†Œë“œ ${nextM.episode} ê¶Œí•œì„ íšë“í–ˆìŠµë‹ˆë‹¤!`, 'bg-blue-500');
                }
            }
            checkRankUp(); updateStatsUI(); showToast('SUCCESS', `${m.title} ìž„ë¬´ ì™„ë£Œ!`, 'bg-emerald-500');
        }

        function openQuizModal(mId) {
            const q = QUIZ_SCENARIOS[mId]; if (!q) return;
            currentQuizMid = mId; currentQuizData = q; renderQuizStep1();
            quizModal.classList.remove('hidden'); quizDynamic.scrollTop = 0;
        }

        function renderQuizStep1() {
            quizDynamic.innerHTML = `<div class="bg-slate-950/50 p-8 rounded-3xl border border-slate-800 mb-8 flex-1 text-slate-300 overflow-y-auto"><p class="text-xl leading-relaxed whitespace-pre-line text-balance normal-case">${parseMarkdown(currentQuizData.scenario)}</p></div><div class="flex gap-4 mt-auto shrink-0"><button onclick="quizModal.classList.add('hidden')" class="flex-1 py-4 text-slate-500 hover:text-white border border-slate-800 rounded-2xl font-bold uppercase text-xs">Abort</button><button onclick="renderQuizStep2()" class="flex-1 py-4 bg-amber-600 hover:bg-amber-500 text-white font-bold rounded-2xl animate-pulse shadow-xl shadow-amber-900/20 uppercase text-xs">Analyze Strategy</button></div>`;
            quizDynamic.scrollTop = 0;
        }

        window.renderQuizStep2 = function() {
            const shuf = [...currentQuizData.options].sort(() => Math.random() - 0.5);
            quizDynamic.innerHTML = `<div class="mb-8 flex-1 text-slate-100 overflow-y-auto pr-1"><h3 class="font-bold text-2xl mb-8 leading-snug normal-case">${parseMarkdown(currentQuizData.question)}</h3><div class="grid gap-4">${shuf.map(o => `<button onclick="checkQuizAnswer(${o.correct})" class="w-full text-left p-6 rounded-2xl bg-slate-950/80 border border-slate-800 hover:bg-slate-800 hover:border-amber-500/50 hover:text-amber-400 transition-all text-lg group flex items-start gap-4 normal-case"><span class="w-6 h-6 rounded-lg bg-slate-800 flex items-center justify-center text-[10px] group-hover:bg-amber-500 group-hover:text-black transition-colors shrink-0 mt-1">â–¶</span><span class="flex-1">${o.text}</span></button>`).join('')}</div></div>`;
            quizDynamic.scrollTop = 0;
        };

        window.checkQuizAnswer = function(c) {
            if (c) { const mid = currentQuizMid; quizModal.classList.add('hidden'); triggerConfetti(); setTimeout(() => completeMission(mid), 300); }
            else { state.energy = Math.max(0, state.energy - 10); updateStatsUI(); quizModal.classList.add('hidden'); showToast('FAILED', 'ì˜¤ë‹µìž…ë‹ˆë‹¤. ì°¨ì› ê°„ì„­ìœ¼ë¡œ ì—ë„ˆì§€ê°€ ì†Œì‹¤ë©ë‹ˆë‹¤.', 'bg-rose-500'); }
        };

        function checkRankUp() { const n = RANKS[state.currentRankIndex + 1]; if (n && state.xp >= n.minXp) { state.currentRankIndex++; triggerConfetti(); showToast('PROMOTED', `'${n.title}' ìŠ¹ê¸‰ ì™„ë£Œ!`, 'bg-purple-600'); } }
        function openMathModal() { if (state.energy >= 100) return; generateMathProblem(); elMathAnswer.value = ''; mathModal.classList.remove('hidden'); setTimeout(() => elMathAnswer.focus(), 100); }
        function generateMathProblem() {
            const op = ['+', '-', '*'][Math.floor(Math.random() * 3)]; let n1, n2;
            if (op === '+') { n1 = Math.floor(Math.random()*50)+1; n2 = Math.floor(Math.random()*50)+1; currentMathAnswer = n1+n2; }
            else if (op === '-') { n1 = Math.floor(Math.random()*50)+10; n2 = Math.floor(Math.random()*n1); currentMathAnswer = n1-n2; }
            else { n1 = Math.floor(Math.random()*9)+2; n2 = Math.floor(Math.random()*9)+2; currentMathAnswer = n1*n2; }
            elMathQuestion.textContent = `${n1} ${op === '*' ? 'Ã—' : op} ${n2} = ?`;
        }
        function checkMathAnswer() { if (parseInt(elMathAnswer.value) === currentMathAnswer) { state.energy = 100; updateStatsUI(); mathModal.classList.add('hidden'); triggerConfetti(); showToast('RECHARGED', 'ì—ë„ˆì§€ê°€ ì™„ì „ ì¶©ì „ë˜ì—ˆìŠµë‹ˆë‹¤.', 'bg-emerald-500'); } else { elMathAnswer.classList.add('shake'); setTimeout(() => elMathAnswer.classList.remove('shake'), 500); } }
        function triggerConfetti() { if (typeof confetti === 'function') confetti({ particleCount: 150, spread: 80, origin: { y: 0.6 } }); }
        
        function handleStart() {
            const n = elIntroInput.value.trim(), c = elIntroCode.value.trim();
            if (!n) { elIntroInput.classList.add('shake'); return; }
            state.codename = n;
            if (c) {
                const d = parseSaveCode(c);
                if (d) {
                    state.xp = d.xp; for(let i=0; i <= d.lastIdx; i++) if (i < state.missions.length) { state.missions[i].completed = true; state.missions[i].locked = false; }
                    if (d.lastIdx + 1 < state.missions.length) state.missions[d.lastIdx + 1].locked = false;
                    let rIdx = 0; for(let i=0; i<RANKS.length; i++) if(state.xp >= RANKS[i].minXp) rIdx = i; state.currentRankIndex = rIdx;
                    const nextIdx = Math.min(state.missions.length - 1, d.lastIdx + 1); state.activeEpisodeId = state.missions[nextIdx]?.episode || 1;
                }
            }
            elAgentName.textContent = state.codename; document.getElementById('access-stamp').classList.add('stamp-animate');
            setTimeout(() => { elIntro.classList.add('fade-out'); setTimeout(() => { elIntro.style.display = 'none'; updateStatsUI(); }, 1200); }, 1200);
        }

        const CS32 = "23456789ABCDEFGHJKLMNPQRSTUVWXYZ"; 
        function e32(n) { if (n === 0) return CS32[0]; let r = ""; while (n > 0) { r = CS32[n % 32] + r; n = Math.floor(n / 32); } return r; }
        function d32(s) { let r = 0; for (let i = 0; i < s.length; i++) { const v = CS32.indexOf(s[i]); if (v === -1) return null; r = r * 32 + v; } return r; }
        function generateSaveCode() { let l = -1; for(let i=0; i<state.missions.length; i++) if(state.missions[i].completed) l = i; const xS = e32(state.xp), mS = e32(l + 1), ck = (state.xp * 7 + l * 3 + 13) % 32; return `TP-${xS}-${mS}-${CS32[ck]}`; }
        function parseSaveCode(c) { const p = c.toUpperCase().replace("TP-", "").split("-"); if (p.length < 3) return null; const x = d32(p[0]), m = d32(p[1]); if (x === null || m === null) return null; const l = m - 1, ck = (x * 7 + l * 3 + 13) % 32; if (p[2] !== CS32[ck]) return null; return { xp: x, lastIdx: l }; }
        function openSaveModal() { elSaveDisplay.textContent = generateSaveCode(); saveModal.classList.remove('hidden'); }
        function copySaveCode() {
            const code = elSaveDisplay.textContent; const t = document.createElement("textarea"); t.value = code; document.body.appendChild(t); t.select();
            try { if(document.execCommand('copy')) showToast('COPIED', 'ì•”í˜¸ ì½”ë“œê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.', 'bg-cyan-600'); } catch (err) {}
            document.body.removeChild(t);
        }

        function init() {
            bindElements();
            updateStatsUI();
            elStartBtn.addEventListener('click', handleStart);
            elIntroInput.addEventListener('keydown', (e) => { if(e.key === 'Enter') handleStart(); });
            elIntroCode.addEventListener('keydown', (e) => { if(e.key === 'Enter') handleStart(); });
            elBtnRecharge.addEventListener('click', openMathModal);
            document.getElementById('btn-submit-answer').addEventListener('click', checkMathAnswer);
            document.getElementById('btn-cancel').addEventListener('click', () => mathModal.classList.add('hidden'));
            document.getElementById('btn-open-save').addEventListener('click', openSaveModal);
            document.getElementById('btn-close-save').addEventListener('click', () => saveModal.classList.add('hidden'));
            document.getElementById('btn-copy-code').addEventListener('click', copySaveCode);
            setTimeout(() => elIntroInput.focus(), 500);
        }

        window.onload = init;
    </script>
</body>
</html>